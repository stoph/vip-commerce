{"version":3,"file":"index.js","mappings":"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","sources":["webpack://vip-commerce/./src/vip-commerce-block.js","webpack://vip-commerce/./src/vip-commerce-collection-block.js","webpack://vip-commerce/./src/vip-commerce-search-block.js","webpack://vip-commerce/external window \"React\"","webpack://vip-commerce/webpack/bootstrap","webpack://vip-commerce/webpack/runtime/compat get default export","webpack://vip-commerce/webpack/runtime/define property getters","webpack://vip-commerce/webpack/runtime/hasOwnProperty shorthand","webpack://vip-commerce/webpack/runtime/make namespace object","webpack://vip-commerce/./src/index.js"],"sourcesContent":["const { registerBlockType } = wp.blocks;\nconst { apiFetch } = wp;\nconst { useState, useEffect } = wp.element;\n\nregisterBlockType( 'vip-commerce/vip-commerce-block', {\n  title: 'VIP Commerce Block',\n  icon: 'smiley',\n  category: 'common',\n\n  edit: ( props ) => {\n    const [ products, setProducts ] = useState( [] );\n\n    useEffect( () => {\n      apiFetch( { path: '/vip-commerce/v1/products' } )\n        .then( data => {\n          setProducts( data.products );\n        } );\n    }, [] );\n\n    return (\n      <div style={ { display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))', gridGap: '1em' } }>\n        {products.map( ( product ) => (\n          <div key={ product.id } style={ { border: '1px solid #ccc', padding: '1em' } }>\n            <h2>{ product.name }</h2>\n            <div dangerouslySetInnerHTML={ { __html: product.description } }></div>\n            <p>${ parseFloat(product.price).toFixed(2) }</p>\n            <img src={ product.image } alt={ product.name } style={ { maxWidth: '30%' } } />\n          </div>\n        ) )}\n      </div>\n    );\n  },\n\n  save() {\n    return null;\n  },\n} );","const { registerBlockType } = wp.blocks;\nconst { apiFetch } = wp;\nconst { useState, useEffect } = wp.element;\nconst { CheckboxControl, PanelBody, TextControl, SelectControl, Button } = wp.components;\n\nconst { InspectorControls, InnerBlocks } = wp.blockEditor;\nconst ALLOWED_BLOCKS = ['core/paragraph', 'core/heading'];\n\nregisterBlockType( 'vip-commerce/vip-commerce-collection-block', {\n  title: 'VIP Commerce Collection Block',\n  icon: 'smiley',\n  category: 'common',\n  attributes: {\n    searchPhrase: {\n      type: 'string',\n      default: ''\n    },\n    collection: {\n      type: 'string',\n      default: ''\n    },\n    selectedProducts: {\n      type: 'array',\n      default: [],\n    },\n  },\n\n  edit: ( props ) => {\n    const { attributes: { collection, selectedProducts }, setAttributes } = props;\n    const [ selectedCollection, setSelectedCollection ] = useState( collection );\n    const [ products, setProducts ] = useState( [] );\n    const [ collections, setCollections ] = useState( [] );\n\n\n    useEffect( () => {\n      apiFetch( { path: '/vip-commerce/v1/collections' } )\n        .then( data => {\n          setCollections( data.collections );\n        } );\n    }, [] );\n\n    useEffect(() => {\n      if (selectedCollection) {\n        apiFetch( { path: `/vip-commerce/v1/products-by-collection?collection=${selectedCollection}` } )\n          .then(data => {\n            setProducts(data.products);\n          });\n      }\n    }, [selectedCollection]);\n\n    const onCollectionChange = (collectionId) => {\n      setSelectedCollection(collectionId);\n      setAttributes({ \n        collection: collectionId,\n        selectedProducts: []\n      });    };\n\n    const onProductSelectionChange = (productId, isSelected) => {\n      const updatedSelectedProducts = isSelected\n        ? [...selectedProducts, productId]\n        : selectedProducts.filter(id => id !== productId);\n      setAttributes({ selectedProducts: updatedSelectedProducts });\n    };\n\n    const displayedProducts = selectedProducts.length > 0\n      ? products.filter(product => selectedProducts.includes(product.id))\n      : products;\n\n    return (\n      <>\n        <InspectorControls>\n          <PanelBody title=\"Collection Settings\" initialOpen={true}>\n            <SelectControl\n              label=\"Select a Collection\"\n              value={selectedCollection}\n              options={[\n                { label: 'Select a Collection', value: '' },\n                ...collections.map(collection => ({ label: collection.title, value: collection.id }))\n              ]}\n              onChange={onCollectionChange}\n            />\n          </PanelBody>\n          <PanelBody title=\"Product Selection\" initialOpen={true}>\n            {products.map((product) => (\n              <CheckboxControl\n                key={product.id}\n                label={product.name}\n                checked={selectedProducts.includes(product.id)}\n                onChange={(isSelected) => onProductSelectionChange(product.id, isSelected)}\n              />\n            ))}\n          </PanelBody>\n        </InspectorControls>\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))', gridGap: '1em' }}>\n          {displayedProducts.map((product) => (\n            <div key={product.id} style={{ border: '1px solid #ccc', padding: '1em' }}>\n              <img src={product.image} alt={product.name} />\n              <h4>{product.name}</h4>\n              {product.description && (\n                <div dangerouslySetInnerHTML={{ __html: product.description }}></div>\n              )}\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <div>${parseFloat(product.price).toFixed(2)}</div>\n                <Button isPrimary>Add to Cart</Button>\n              </div>\n            </div>\n          ))}\n        </div>\n        <InnerBlocks allowedBlocks={ ALLOWED_BLOCKS } />\n      </>\n    );\n  },\n\n  save: ( props ) => {\n    return ( <InnerBlocks.Content /> );\n  },\n} );","\nconst { apiFetch } = wp;\nconst { useSelect } = wp.data;\nconst { registerBlockType } = wp.blocks;\nconst { useState, useEffect } = wp.element;\nconst { TextControl, SelectControl, Button, PanelBody } = wp.components;\nconst { InnerBlocks, InspectorControls } = wp.blockEditor;\nconst ALLOWED_BLOCKS = ['core/paragraph', 'core/heading'];\n\nregisterBlockType( 'vip-commerce/vip-commerce-search-block', {\n  title: 'VIP Commerce Search Block',\n  icon: 'smiley',\n  category: 'common',\n  attributes: {\n    searchPhrase: {\n      type: 'string',\n      default: ''\n    },\n    selectedProduct: {\n      type: 'string',\n      default: ''\n    }\n  },\n\n  edit: ( props ) => {\n    const { attributes: { searchPhrase, selectedProduct }, setAttributes } = props;\n    const [ products, setProducts ] = useState( [] );\n    const [recommendedProducts, setRecommendedProducts] = useState([]);\n\n    const postTags = useSelect(select => select('core/editor').getEditedPostAttribute('tags'), []);\n\n    // Effect for recommended products based on postTags\n    useEffect(() => {  \n      if (postTags && postTags.length > 0) {\n        apiFetch({ path: `/vip-commerce/v1/products-by-tag?tags=${postTags.join(',')}` })\n          .then(data => {\n            setRecommendedProducts(data.products);\n          });\n      }\n    }, [postTags]);\n\n    useEffect( () => {\n      if (searchPhrase) {\n        apiFetch( { path: `/vip-commerce/v1/products-by-name?search=${searchPhrase}` } )\n          .then( data => {\n            setProducts( data.products );\n          } );\n      }\n    }, [ searchPhrase ] );\n\n    const handleOnChange = ( value ) => {\n      setAttributes( { searchPhrase: value } );\n    };\n\n    const handleOnSelectProduct = ( productId ) => {\n      setAttributes( { selectedProduct: productId } );\n    };\n\n    const handleOnSelectButtonClick = () => {\n      if (products.length === 1) {\n        handleOnSelectProduct(products[0].id);\n      }\n    };\n\n    //const selectedProductData = products.find( product => product.id === selectedProduct );\n    const selectedProductData = products.find(product => product.id === selectedProduct) || recommendedProducts.find(product => product.id === selectedProduct);\n\n    let productData = selectedProductData;\n    if (!productData) {\n      productData = {\n        name: 'Product Name',\n        description: 'Product Description',\n        price: '0.00',\n        image: 'https://via.placeholder.com/360x360'\n      };\n    }\n\n    return (\n      <>\n        <InspectorControls>\n          <PanelBody title=\"Product Search\">\n            <TextControl\n              label=\"Search Phrase\"\n              value={ searchPhrase }\n              onChange={ handleOnChange }\n            />\n            <SelectControl\n              label=\"Select a Product\"\n              value={ selectedProduct }\n              //options={ products.map( product => ( { label: product.name, value: product.id } ) ) }\n              options={[\n                { label: \"Choose one...\", value: '' },\n                ...products.map(product => ({ label: product.name, value: product.id }))\n              ]}\n              onChange={ handleOnSelectProduct }\n            />\n            <Button isPrimary onClick={ handleOnSelectButtonClick }>Select</Button>\n          </PanelBody>\n          <PanelBody title=\"Recommended Products\">\n            <SelectControl\n              label=\"Select a Recommended Product\"\n              value={selectedProduct}\n              //options={recommendedProducts.map(product => ({ label: product.name, value: product.id }))}\n              options={[\n                { label: \"Choose one...\", value: '' },\n                ...recommendedProducts.map(product => ({ label: product.name, value: product.id }))\n              ]}\n              onChange={handleOnSelectProduct}\n            />\n          </PanelBody>\n        </InspectorControls>\n        { productData && (\n          <div>\n            <h2>{ productData.name }</h2>\n            <p>${ parseFloat(productData.price).toFixed(2) }</p>\n            <table>\n              <tbody>\n                <tr>\n                  <td style={{width: '240px'}}>\n                    <img src={ productData.image } alt={ productData.name } />\n                  </td>\n                  <td>\n                    <p dangerouslySetInnerHTML={ { __html: productData.description } }></p>\n                      <a href='https://stoph-test.myshopify.com/products/'>\n                        <button>View Product</button>\n                      </a>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            \n          </div>\n        ) }\n        <InnerBlocks allowedBlocks={ ALLOWED_BLOCKS } />\n      </>\n    );\n  },\n\n  save: ( props ) => {\n    return ( <InnerBlocks.Content /> );\n  },\n} );","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './vip-commerce-block';\nimport './vip-commerce-search-block';\nimport './vip-commerce-collection-block';\n//import './vip-commerce-pattern.js';\n\n\n\n// TKTK: Remove this when we're ready to go live\nconst nonProdBar = document.getElementById( 'vip-non-prod-bar' );\nif ( nonProdBar ) {\n  nonProdBar.remove();\n}\n"],"names":["registerBlockType","wp","blocks","apiFetch","useState","useEffect","element","title","icon","category","edit","props","products","setProducts","path","then","data","createElement","style","display","gridTemplateColumns","gridGap","map","product","key","id","border","padding","name","dangerouslySetInnerHTML","__html","description","parseFloat","price","toFixed","src","image","alt","maxWidth","save","CheckboxControl","PanelBody","TextControl","SelectControl","Button","components","InspectorControls","InnerBlocks","blockEditor","ALLOWED_BLOCKS","attributes","searchPhrase","type","default","collection","selectedProducts","setAttributes","selectedCollection","setSelectedCollection","collections","setCollections","onCollectionChange","collectionId","onProductSelectionChange","productId","isSelected","updatedSelectedProducts","filter","displayedProducts","length","includes","Fragment","initialOpen","label","value","options","onChange","checked","justifyContent","alignItems","isPrimary","allowedBlocks","Content","useSelect","selectedProduct","recommendedProducts","setRecommendedProducts","postTags","select","getEditedPostAttribute","join","handleOnChange","handleOnSelectProduct","handleOnSelectButtonClick","selectedProductData","find","productData","onClick","width","href","nonProdBar","document","getElementById","remove"],"sourceRoot":""}